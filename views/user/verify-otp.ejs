<!-- verify-otp.ejs -->
<!DOCTYPE html>
<html>
<head>
  <title>Verify OTP</title>
  
</head>
<body>
  <style>
    body {
  background: #f7f7f7;
}

.form-box {
  max-width: 500px;
  margin: auto;
  padding: 50px;
  background: #ffffff;
  border: 10px solid #969997;
}

h1, p {
  text-align: center;
  color: seagreen;
}


  </style>

<div class="form-box">
  <h2>OTP Verification</h2>
  <p>Please enter the OTP sent to your <%=email %></p>

  <form action="/verify-otp/<%=email %>" method="POST">
    <div class="form-group">
      
    
      <input type="text" name="otp"   placeholder="Enter OTP" required>
    </div>
    <br>
    <div class="form-group">
    <button type="submit" class="btn  btn-success">Verify OTP</button>
    </div>
  </form>

  <p id="countdown">Time remaining: <span id="timer">60</span> seconds</p>
  <form action="/generate-otp" method="get">
  <div class="form-group" id="resend"style="display: none;">
    <button id="resendButton" type="submit" class="btn  btn-success">resend otp</button>
    </div>
  </form>
</div>




  

  <script>
    let seconds = 60;
    const countdown = document.getElementById('timer');
    const resendDiv = document.getElementById('resend'); // Get the 'resend' div
   const resendButton = document.getElementById('resendButton'); // Get the 'resend' button

    
    const updateTimer = () => {
      countdown.textContent = seconds;
      seconds--;
      if (seconds < 0) {
        clearInterval(interval);
        countdown.textContent = 'Time expired';
        if(countdown.textContent = 'Time expired'){
            resendDiv.style.display = 'block';
        }
      }
    };

    const interval = setInterval(updateTimer, 1000);
  </script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>


